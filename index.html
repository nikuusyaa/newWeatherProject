<!DOCTYPE html>
<html lang="en">
  <head>
<script src="https://kit.fontawesome.com/fc155fac88.js" crossorigin="anonymous"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
     
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
 <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body background="sky3.png">
    <br />
    <span class="all">
    <div class="container">
       
      <div class="row">
         <span class="main" >

          <form>
             
                <span class="change_city_button" id="button_city">
          
            <input     autocomplete="off" autofocus="on" type="text" id="mainCity" placeholder="Type a city..."/>
            <br />
            <button class="change"> 
              Change city
            </button>
              </span> 
          </form>
        </div>
         </div>
   <h1 id="kh">

   </h1>
   <h5>
     <span id="weekDay">MONDAY</span> | <span id="months">MAY</span> <span id="number">8</span>  | <span id="time1">02:03</span>
   </h5>
   <span class="fifthline">
<div class="container">
  <div class="row">
 <div class="col-4">
 <span class="precip">
   <div class="col-6">
<i class="fa-solid fa-cloud-rain" class="rain"></i>
   </div>
     <div class="col-6" id="humidity">
     
   </div>
 </span>
 </div>
   <div class="col-4">
     <span class="current_degree">
      <span id="ttemp">
      
      </span>
     
     <span class="current_degree1">
     
     </span>
     </span>
   </div>
   <div class="col-4">
     <span class="precip">
   <div class="col-6">
<i class="fa-solid fa-wind"></i>
   </div>
     <div class="col-6" id="wind">
     
   </div>
 </span>
   </div>
  </div>
</div>
 </div>
   </span>
 <span class="forecast_design">
       <span class="degree">
        <div class="weather-forecast" id="forecast"><div class="row">
      <div class="col-2">
        <div class="weather-forecast-date">Fri</div>
        <img src="http://openweathermap.org/img/wn/13d@2x.png" alt="" width="42">
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> 6° </span>
          <span class="weather-forecast-temperature-min"> 1° </span>
        </div>
      </div>
  
      <div class="col-2">
        <div class="weather-forecast-date">Sat</div>
        <img src="http://openweathermap.org/img/wn/01d@2x.png" alt="" width="42">
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> 4° </span>
          <span class="weather-forecast-temperature-min"> 0° </span>
        </div>
      </div>
  
      <div class="col-2">
        <div class="weather-forecast-date">Sun</div>
        <img src="http://openweathermap.org/img/wn/01d@2x.png" alt="" width="42">
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> 4° </span>
          <span class="weather-forecast-temperature-min"> 0° </span>
        </div>
      </div>
  
      <div class="col-2">
        <div class="weather-forecast-date">Mon</div>
        <img src="http://openweathermap.org/img/wn/04d@2x.png" alt="" width="42">
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> 6° </span>
          <span class="weather-forecast-temperature-min"> 0° </span>
        </div>
      </div>
  
      <div class="col-2">
        <div class="weather-forecast-date">Tue</div>
        <img src="http://openweathermap.org/img/wn/01d@2x.png" alt="" width="42">
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> 7° </span>
          <span class="weather-forecast-temperature-min"> 3° </span>
        </div>
      </div>
  
      <div class="col-2">
        <div class="weather-forecast-date">Wed</div>
        <img src="http://openweathermap.org/img/wn/01d@2x.png" alt="" width="42">
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> 10° </span>
          <span class="weather-forecast-temperature-min"> 3° </span>
        </div>
      </div>
  </div>
</div>
       </span>
        
    
 </span>
 <br />
   </div>
   <span class="final">
        <img src="pixelart.png" />
        <img src="pixelart2.png"/>
        <img src="pixelart3.png"/>
        <img src="pixelart4.png"/>
        <img src="pixelart5.png"/>
        <br />
        <a class="link21" href="https://github.com/nikuusyaa/newWeatherProject" target="_blank">
        <span class="author" >
          CODED BY VERONICA BOROZENETS 
         
          </span>
        </a>
        <a class="link21" href="https://www.instagram.com/_nikusyaa/?hl=en" target="_blank">
        <div class="author">
          inst:@_nikusyaa
          </div>
        </a>
        </span>
  
     
     
  <link rel="stylesheet" href="src/styles.css" />
 
    </span>
    <br />


    




    <script  >
    
      let now = new Date();
    let day=document.querySelector("#weekDay");
     let days = ["SUNDAY", "MONDAY", "TUESDAY", "WEDNESDAY", "THURSADY", "FRIDAY", "SATURDAY"];
      let daym = days[now.getDay()];
    day.innerHTML=daym;


    let mon= document.querySelector("#months");
    let monthes= [
        "JANUARY",
        "FEBRUARY",
        "MARCH",
        "APRIL",
        "MAY",
        "JUNE",
        "JULY",
        "AUGUST",
        "SEPTEMBER",
        "OCTOBER",
        "NOVEMBER",
        "DECEMBER"
      ];
let month = monthes[now.getMonth()];
mon.innerHTML=month;
let data= document.querySelector("#number");
data.innerHTML=now.getDate();
let timeNow= document.querySelector("#time1");
timeNow.innerHTML= now.getHours() +":"+ now.getMinutes();
if (now.getMinutes()<10){
timeNow.innerHTML=now.getHours()+ ":0"+now.getMinutes();
}
if (now.getHours()<10){
timeNow.innerHTML="0"+now.getHours()+":" +now.getMinutes();
}
if ((now.getHours()<10) && (now.getMinutes()<10))
{
timeNow.innerHTML="0"+ now.getHours()+":0"+ now.getMinutes();
}


function changeCity(event){
  event.preventDefault();
  let ccity=document.querySelector("#mainCity");
   let CITY=ccity.value;
kh.innerHTML=CITY;

function formatDay(timestamp) {
  let date = new Date(timestamp * 1000);
  let day = date.getDay();
  let days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

  return days[day];
}

 
function displayForecast(response) {
  let forecast = response.data.daily;

  let forecastElement = document.querySelector("#forecast");

  let forecastHTML = `<div class="row">`;
  forecast.forEach(function (forecastDay, index) {
    if (index < 6) {
      forecastHTML =
        forecastHTML +
        `
      <div class="col-2">
        <div class="weather-forecast-date">${formatDay(forecastDay.dt)}</div>
        <img
          src="http://openweathermap.org/img/wn/${
            forecastDay.weather[0].icon
          }@2x.png"
          alt=""
          width="42"
        />
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> ${Math.round(
            forecastDay.temp.max
          )}° </span>
          <span class="weather-forecast-temperature-min"> ${Math.round(
            forecastDay.temp.min
          )}° </span>
        </div>
      </div>
  `;
    }
  });

  forecastHTML = forecastHTML + `</div>`;
  forecastElement.innerHTML = forecastHTML;
}

function getForecast(coordinates) {
  let apiKey = "5f472b7acba333cd8a035ea85a0d4d4c";
  let apiUrl = `https://api.openweathermap.org/data/2.5/onecall?lat=${coordinates.lat}&lon=${coordinates.lon}&appid=${apiKey}&units=metric`;
  axios.get(apiUrl).then(displayForecast);
}

function displayWeather(response){
let currentTemp = document.querySelector("#ttemp");
  let temperature = Math.round(response.data.main.temp);
   
  currentTemp.innerHTML=`${temperature}℃ `;
  let currentWindSpeed=document.querySelector("#wind");
  let wind= Math.round(response.data.wind.speed);
  currentWindSpeed.innerHTML=` ${wind} km/h `;
  let currentHumidity= document.querySelector("#humidity");
  let humidity=response.data.main.humidity;
  currentHumidity.innerHTML=` ${humidity} % `
  getForecast(response.data.coord);

}
let key = "5f472b7acba333cd8a035ea85a0d4d4c";
let apiurl = `https://api.openweathermap.org/data/2.5/weather?q=${CITY}&appid=${key}&units=metric`;
axios.get(apiurl).then(displayWeather);


}

let city= document.querySelector("form");
city.addEventListener("submit", changeCity);

    </script>
  </body>
  
  
</html>
